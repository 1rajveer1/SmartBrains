{"ast":null,"code":"import _classCallCheck from\"C:/Users/Polymorph/Desktop/face_recognizer/face_recognition_app/SmartBrains/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Polymorph/Desktop/face_recognizer/face_recognition_app/SmartBrains/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Polymorph/Desktop/face_recognizer/face_recognition_app/SmartBrains/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Polymorph/Desktop/face_recognizer/face_recognition_app/SmartBrains/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import'./App.css';import React from'react';import Logo from'./componenets/Logo/Logo';import Navigation from'./componenets/navigation/Navigation';import FaceRecognition from'./componenets/FaceRecognition/FaceRecognition';import ImageLinkForm from'./componenets/ImageLinkForm/ImageLinkForm';import SignIn from'./componenets/SignIn/SignIn';import Rank from'./componenets/Rank/Rank';import Register from'./componenets/Register/Register';import Particle from'./componenets/ParticleComponent/ParticleComponent';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var clarifySteup=function clarifySteup(imageUrl){// Your PAT (Personal Access Token) can be found in the portal under Authentification\nvar PAT='651d5bf1f1eb4078964573effae6a1a0';// Specify the correct user_id/app_id pairings\n// Since you're making inferences outside your app's scope\nvar USER_ID='1rajveer1';var APP_ID='1rajveer1';// Change these to whatever model and image URL you want to use\nvar MODEL_ID='face-detection';var IMAGE_URL=imageUrl;///////////////////////////////////////////////////////////////////////////////////\n// YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n///////////////////////////////////////////////////////////////////////////////////\nvar raw=JSON.stringify({\"user_app_id\":{\"user_id\":USER_ID,\"app_id\":APP_ID},\"inputs\":[{\"data\":{\"image\":{\"url\":IMAGE_URL}}}]});var requestOptions={method:'POST',headers:{'Accept':'application/json','Authorization':'Key '+PAT},body:raw};return requestOptions;};var currentState={input:'',imageUrl:'',box:{},route:'signIn',isSignedIn:false,user:{id:'',name:'',email:'',entries:'0',joined:''}};var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.loadUser=function(data){_this.setState({user:{id:data.id,name:data.name,email:data.email,entries:data.entries,joined:data.joined}});};_this.calculateFaceLocation=function(data){var clarifyFace=data.outputs[0].data.regions[0].region_info.bounding_box;var image=document.getElementById('inputimage');var width=Number(image.width);var height=Number(image.height);return{leftCol:clarifyFace.left_col*width,topRow:clarifyFace.top_row*height,rightCol:width-clarifyFace.right_col*width,bottomRow:height-clarifyFace.bottom_row*height};};_this.displayFaceBox=function(box){console.log(box);_this.setState({box:box});};_this.onInputChange=function(event){_this.setState({input:event.target.value});};_this.onButtonSumbit=function(){_this.setState({imageUrl:_this.state.input});console.log('hi',_this.state.user);// const url = this.state.input;\nconsole.log('yup',_this.state);fetch(\"https://api.clarifai.com/v2/models/\"+'face-detection'+\"/outputs\",clarifySteup(_this.state.input)).then(function(response){return response.json();}).then(function(response){if(response){fetch('http://localhost:3000/image',{method:'put',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:_this.state.user.id})}).then(function(response){return response.json();}).then(function(count){_this.setState(Object.assign(_this.state.user,{entries:count}));});}_this.displayFaceBox(_this.calculateFaceLocation(response));}).catch(function(err){return console.log(err);});};_this.onRouteChange=function(route){if(route==='signout'){_this.setState(currentState);}else if(route==='home'){_this.setState({isSignedIn:true});}_this.setState({route:route});};_this.state=currentState;return _this;}_createClass(App,[{key:\"render\",value:function render(){// const { isSignedIn, imageUrl, route, box } = this.state;\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Particle,{}),/*#__PURE__*/_jsx(Navigation,{isSignedIn:this.state.isSignedIn,onRouteChange:this.onRouteChange}),this.state.route==='home'?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(Rank,{name:this.state.user.name,entries:this.state.user.entries}),/*#__PURE__*/_jsx(ImageLinkForm,{onInputChange:this.onInputChange,onButtonSumbit:this.onButtonSumbit}),/*#__PURE__*/_jsx(FaceRecognition,{box:this.state.box,imageUrl:this.state.imageUrl})]}):this.state.route==='signIn'?/*#__PURE__*/_jsx(SignIn,{loadUser:this.loadUser,onRouteChange:this.onRouteChange}):/*#__PURE__*/_jsx(Register,{loadUser:this.loadUser,onRouteChange:this.onRouteChange})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"names":["React","Logo","Navigation","FaceRecognition","ImageLinkForm","SignIn","Rank","Register","Particle","jsx","_jsx","jsxs","_jsxs","clarifySteup","imageUrl","PAT","USER_ID","APP_ID","MODEL_ID","IMAGE_URL","raw","JSON","stringify","requestOptions","method","headers","body","currentState","input","box","route","isSignedIn","user","id","name","email","entries","joined","App","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","call","loadUser","data","setState","calculateFaceLocation","clarifyFace","outputs","regions","region_info","bounding_box","image","document","getElementById","width","Number","height","leftCol","left_col","topRow","top_row","rightCol","right_col","bottomRow","bottom_row","displayFaceBox","console","log","onInputChange","event","target","value","onButtonSumbit","state","fetch","then","response","json","count","Object","assign","catch","err","onRouteChange","_createClass","key","render","className","children","Component"],"sources":["C:/Users/Polymorph/Desktop/face_recognizer/face_recognition_app/SmartBrains/src/App.js"],"sourcesContent":["import './App.css';\nimport React from 'react';\nimport Logo from './componenets/Logo/Logo';\nimport Navigation from './componenets/navigation/Navigation';\nimport FaceRecognition from './componenets/FaceRecognition/FaceRecognition';\nimport ImageLinkForm from './componenets/ImageLinkForm/ImageLinkForm';\nimport SignIn from './componenets/SignIn/SignIn';\nimport Rank from './componenets/Rank/Rank';\nimport Register from './componenets/Register/Register';\nimport Particle from './componenets/ParticleComponent/ParticleComponent';\n\n\nconst clarifySteup = (imageUrl) =>{\n      // Your PAT (Personal Access Token) can be found in the portal under Authentification\n      const PAT = '651d5bf1f1eb4078964573effae6a1a0';\n      // Specify the correct user_id/app_id pairings\n      // Since you're making inferences outside your app's scope\n      const USER_ID = '1rajveer1';       \n      const APP_ID = '1rajveer1';\n      // Change these to whatever model and image URL you want to use\n      const MODEL_ID = 'face-detection';\n      const IMAGE_URL = imageUrl;\n\n      ///////////////////////////////////////////////////////////////////////////////////\n      // YOU DO NOT NEED TO CHANGE ANYTHING BELOW THIS LINE TO RUN THIS EXAMPLE\n      ///////////////////////////////////////////////////////////////////////////////////\n  \n      const raw = JSON.stringify({\n          \"user_app_id\": {\n              \"user_id\": USER_ID,\n              \"app_id\": APP_ID\n          },\n          \"inputs\": [\n              {\n                  \"data\": {\n                      \"image\": {\n                          \"url\": IMAGE_URL\n                      }\n                  }\n              }\n          ]\n      });\n  \n      const requestOptions = {\n          method: 'POST',\n          headers: {\n              'Accept': 'application/json',\n              'Authorization': 'Key ' + PAT\n          },\n          body: raw\n      };\n    return requestOptions;\n}\n\nconst currentState = {\n  input: '',\n  imageUrl: '',\n  box: {},\n  route: 'signIn',\n  isSignedIn: false,\n  user: {\n    id: '',\n    name: '',\n    email: '',\n    entries: '0',\n    joined: ''\n  }\n}\n\nclass App extends React.Component {\n  constructor(){\n    super();\n    this.state = currentState;\n  };\n\n  loadUser = (data) => {\n    this.setState({user: {\n      id: data.id,\n      name: data.name,\n      email: data.email,\n      entries: data.entries,\n      joined: data.joined\n        }\n      }\n    )\n  }\n\n  calculateFaceLocation = (data) =>{\n    const clarifyFace = data.outputs[0].data.regions[0].region_info.bounding_box;\n    const image = document.getElementById('inputimage')\n    const width = Number(image.width)\n    const height = Number(image.height)\n\n    return {\n      leftCol : clarifyFace.left_col * width,\n      topRow: clarifyFace. top_row * height,\n      rightCol: width - (clarifyFace.right_col * width),\n      bottomRow: height - (clarifyFace.bottom_row * height)\n    }\n  }\n\n  displayFaceBox = (box) =>{\n    console.log(box);\n    this.setState({box: box})\n  }\n\n  onInputChange = (event) =>{\n    this.setState({input: event.target.value});\n  }\n\n  onButtonSumbit = () => {\n    this.setState({imageUrl: this.state.input})\n    console.log('hi',this.state.user)\n    // const url = this.state.input;\n    console.log('yup',this.state)\n    fetch(\"https://api.clarifai.com/v2/models/\" + 'face-detection' + \"/outputs\", clarifySteup(this.state.input))\n    .then(response => response.json())\n    .then(response => {\n      if(response){\n        fetch('http://localhost:3000/image', {\n        method: 'put',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n          id: this.state.user.id\n        })\n      })\n      .then(response => response.json())\n      .then(count => {\n        this.setState(Object.assign(this.state.user,{entries: count}))\n      })\n    }\n      this.displayFaceBox(this.calculateFaceLocation(response))\n  })\n    .catch(err => console.log(err));\n  }\n\n  onRouteChange = (route) => {\n    if (route === 'signout') {\n      this.setState(currentState)\n    } else if (route === 'home') {\n      this.setState({isSignedIn: true})\n    }\n    this.setState({route: route});\n  }\n  \n  render (){\n    // const { isSignedIn, imageUrl, route, box } = this.state;\n  return (\n    <div className=\"App\">\n      <Particle />\n      <Navigation isSignedIn={this.state.isSignedIn} onRouteChange={this.onRouteChange}/>\n      { this.state.route === 'home' ? \n        <div>\n        <Logo />\n        <Rank name={this.state.user.name} entries={this.state.user.entries}/>\n        <ImageLinkForm onInputChange = {this.onInputChange} onButtonSumbit = {this.onButtonSumbit}/>\n        <FaceRecognition box={this.state.box} imageUrl={this.state.imageUrl} /> \n      </div>\n        : (\n          this.state.route === 'signIn' ?\n          <SignIn loadUser={this.loadUser} onRouteChange={this.onRouteChange}/> :\n          <Register loadUser={this.loadUser} onRouteChange={this.onRouteChange}/>\n        )\n  }\n    </div>\n  );\n}\n}\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}